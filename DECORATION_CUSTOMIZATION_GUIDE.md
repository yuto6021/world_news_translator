# ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã‚¬ã‚¤ãƒ‰ ğŸ¨âœ¨

## æ¦‚è¦
`PetCardWidget` ã§ **ui_sparkleï¼ˆæ˜Ÿï¼‰** ã¨ **ui_frame_cornerï¼ˆ4éš…ã®è£…é£¾ï¼‰** ã®ã‚µã‚¤ã‚ºã¨ä½ç½®ã‚’è‡ªç”±ã«èª¿æ•´ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸï¼

---

## ğŸŒŸ ui_sparkleï¼ˆæ˜Ÿãƒ‡ã‚³ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ï¼‰

### ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿

```dart
PetCardWidget(
  // ... åŸºæœ¬ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ ...
  rarity: 5,
  
  // æ˜Ÿã®ã‚µã‚¤ã‚º
  sparkleWidth: 100,    // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: 80
  sparkleHeight: 100,   // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: 80
  
  // æ˜Ÿã®ä½ç½®ï¼ˆå³ä¸ŠåŸºæº–ï¼‰
  sparkleTop: 5,        // ä¸Šã‹ã‚‰ã®ãƒ”ã‚¯ã‚»ãƒ«ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: 10ï¼‰
  sparkleRight: 5,      // å³ã‹ã‚‰ã®ãƒ”ã‚¯ã‚»ãƒ«ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: 10ï¼‰
  
  // æ˜Ÿã®è¡¨ç¤ºãƒ¢ãƒ¼ãƒ‰
  sparkleFit: BoxFit.contain,  // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: BoxFit.contain
)
```

### ä½¿ç”¨ä¾‹

#### å°ã•ãæ§ãˆã‚ã«
```dart
sparkleWidth: 50,
sparkleHeight: 50,
sparkleTop: 15,
sparkleRight: 15,
```

#### å¤§ããç›®ç«‹ãŸã›ã‚‹ï¼ˆãƒ¬ã‚¸ã‚§ãƒ³ãƒ€ãƒªãƒ¼å‘ã‘ï¼‰
```dart
sparkleWidth: 120,
sparkleHeight: 120,
sparkleTop: 0,
sparkleRight: 0,
```

#### ä¸­å¤®ä¸Šéƒ¨ã«é…ç½®
```dart
sparkleWidth: 80,
sparkleHeight: 80,
sparkleTop: 5,
sparkleRight: 100,  // (280 - 80) / 2 = 100ã§ä¸­å¤®
```

---

## ğŸ–¼ï¸ ui_frame_cornerï¼ˆ4éš…ã®è£…é£¾ãƒ•ãƒ¬ãƒ¼ãƒ ï¼‰

### ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿

```dart
PetCardWidget(
  // ... åŸºæœ¬ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ ...
  rarity: 4,
  
  // ãƒ•ãƒ¬ãƒ¼ãƒ ã‚³ãƒ¼ãƒŠãƒ¼ã®ã‚µã‚¤ã‚º
  frameCornerSize: 50,  // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: 40ï¼ˆãƒ”ã‚¯ã‚»ãƒ«ï¼‰
  
  // ãƒ•ãƒ¬ãƒ¼ãƒ ã‚³ãƒ¼ãƒŠãƒ¼ã‚’è¡¨ç¤ºã™ã‚‹ã‹
  showFrameCorners: true,  // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: falseï¼ˆãƒ¬ã‚¢åº¦3ä»¥ä¸Šã§è‡ªå‹•è¡¨ç¤ºï¼‰
  
  // ãƒ•ãƒ¬ãƒ¼ãƒ ã‚³ãƒ¼ãƒŠãƒ¼ã®è‰²
  frameCornerColor: Colors.gold,  // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: æ ç·šã¨åŒã˜è‰²
)
```

### ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå‹•ä½œ

- **ãƒ¬ã‚¢ãƒªãƒ†ã‚£3ä»¥ä¸Š**ï¼šè‡ªå‹•çš„ã«4éš…ã«ãƒ•ãƒ¬ãƒ¼ãƒ è£…é£¾ãŒè¡¨ç¤ºã•ã‚Œã‚‹
- **ãƒ¬ã‚¢ãƒªãƒ†ã‚£1-2**ï¼š`showFrameCorners: true`ã§æ‰‹å‹•è¡¨ç¤ºãŒå¿…è¦

### ãƒ•ãƒ¬ãƒ¼ãƒ ã‚³ãƒ¼ãƒŠãƒ¼ã®å½¢çŠ¶

å„ã‚³ãƒ¼ãƒŠãƒ¼ã¯ **Lå­—å‹ã®è£…é£¾** ã§ã€ä»¥ä¸‹ã®è¦ç´ ã§æ§‹æˆã•ã‚Œã¦ã„ã¾ã™ï¼š
- å¤ªã•3pxã®ã‚¹ãƒˆãƒ­ãƒ¼ã‚¯
- 30%é€æ˜åº¦ã®å¡—ã‚Šã¤ã¶ã—
- è§’ã«å°ã•ãªè£…é£¾å††
- ãƒ©ã‚¦ãƒ³ãƒ‰ã‚³ãƒ¼ãƒŠãƒ¼ï¼ˆãƒ™ã‚¸ã‚§æ›²ç·šï¼‰

---

## ğŸ“ å®Ÿè£…è©³ç´°

### ãƒ•ã‚¡ã‚¤ãƒ«ä½ç½®
`lib/widgets/pet_card_widget.dart`

### è¿½åŠ ã•ã‚ŒãŸã‚¯ãƒ©ã‚¹

#### `CornerPosition` enum
```dart
enum CornerPosition {
  topLeft,     // å·¦ä¸Š
  topRight,    // å³ä¸Š
  bottomLeft,  // å·¦ä¸‹
  bottomRight, // å³ä¸‹
}
```

#### `_FrameCornerPainter` CustomPainter
4éš…ã®Lå­—å‹è£…é£¾ã‚’æç”»ã™ã‚‹å°‚ç”¨Painterã€‚ä½ç½®ã«å¿œã˜ã¦è‡ªå‹•çš„ã«å›è»¢ãƒ»åè»¢ã—ã¾ã™ã€‚

---

## ğŸ¯ æ¨å¥¨è¨­å®š

### ãƒ¬ã‚¸ã‚§ãƒ³ãƒ€ãƒªãƒ¼ï¼ˆãƒ¬ã‚¢ãƒªãƒ†ã‚£5ï¼‰
```dart
PetCardWidget(
  rarity: 5,
  
  // æ˜Ÿ: å¤§ããç›®ç«‹ã¤
  sparkleWidth: 110,
  sparkleHeight: 110,
  sparkleTop: 5,
  sparkleRight: 5,
  
  // ãƒ•ãƒ¬ãƒ¼ãƒ : å¤§ããè±ªè¯ã«
  frameCornerSize: 55,
  frameCornerColor: Colors.amber.shade700,
  
  // æ ç·š: å¤ªãé‡‘è‰²
  borderColor: Colors.amber.shade600,
  borderWidth: 5.0,
)
```

### ã‚¨ãƒ”ãƒƒã‚¯ï¼ˆãƒ¬ã‚¢ãƒªãƒ†ã‚£4ï¼‰
```dart
PetCardWidget(
  rarity: 4,
  
  // æ˜Ÿ: ä¸­ã‚µã‚¤ã‚º
  sparkleWidth: 90,
  sparkleHeight: 90,
  sparkleTop: 8,
  sparkleRight: 8,
  
  // ãƒ•ãƒ¬ãƒ¼ãƒ : æ¨™æº–ã‚µã‚¤ã‚º
  frameCornerSize: 45,
  frameCornerColor: Colors.purple.shade600,
  
  // æ ç·š: ç´«
  borderWidth: 4.0,
)
```

### ãƒ¬ã‚¢ï¼ˆãƒ¬ã‚¢ãƒªãƒ†ã‚£3ï¼‰
```dart
PetCardWidget(
  rarity: 3,
  
  // æ˜Ÿ: æ¨™æº–ã‚µã‚¤ã‚º
  sparkleWidth: 75,
  sparkleHeight: 75,
  sparkleTop: 10,
  sparkleRight: 10,
  
  // ãƒ•ãƒ¬ãƒ¼ãƒ : ã‚„ã‚„å°ã•ã‚
  frameCornerSize: 40,
  
  // æ ç·š: é’
  borderWidth: 3.0,
)
```

### ã‚¢ãƒ³ã‚³ãƒ¢ãƒ³ï¼ˆãƒ¬ã‚¢ãƒªãƒ†ã‚£2ï¼‰
```dart
PetCardWidget(
  rarity: 2,
  
  // æ˜Ÿ: å°ã•ã‚
  sparkleWidth: 60,
  sparkleHeight: 60,
  sparkleTop: 12,
  sparkleRight: 12,
  
  // ãƒ•ãƒ¬ãƒ¼ãƒ : è¡¨ç¤ºã—ãªã„ï¼ˆã¾ãŸã¯æ‰‹å‹•ã§ï¼‰
  showFrameCorners: false,
  
  // æ ç·š: ç´°ã„
  borderWidth: 2.0,
)
```

---

## ğŸ’¡ ä½¿ç”¨ä¾‹

### ä¾‹1: ã‚³ãƒ¢ãƒ³ã‚«ãƒ¼ãƒ‰ï¼ˆã‚·ãƒ³ãƒ—ãƒ«ï¼‰
```dart
PetCardWidget(
  petImagePath: 'assets/pets/baby/koromon/normal_idle.png',
  petName: 'ã‚³ãƒ­ãƒ¢ãƒ³',
  level: 5,
  species: 'ã‚³ãƒ­ãƒ¢ãƒ³',
  stage: 'baby',
  hp: 50,
  attack: 20,
  defense: 15,
  rarity: 1,
  
  // è£…é£¾ãªã—
  sparkleWidth: 0,  // æ˜Ÿã‚’éè¡¨ç¤º
  showFrameCorners: false,  // ãƒ•ãƒ¬ãƒ¼ãƒ ãªã—
  borderWidth: 1.5,  // ç´°ã„æ ç·š
)
```

### ä¾‹2: ãƒ¬ã‚¸ã‚§ãƒ³ãƒ€ãƒªãƒ¼ã‚«ãƒ¼ãƒ‰ï¼ˆè±ªè¯ï¼‰
```dart
PetCardWidget(
  petImagePath: 'assets/pets/ultimate/wargreymon/normal_idle.png',
  petName: 'ã‚¦ã‚©ãƒ¼ã‚°ãƒ¬ã‚¤ãƒ¢ãƒ³',
  level: 99,
  species: 'ã‚¦ã‚©ãƒ¼ã‚°ãƒ¬ã‚¤ãƒ¢ãƒ³',
  stage: 'ultimate',
  hp: 500,
  attack: 300,
  defense: 250,
  rarity: 5,
  
  // æ˜Ÿ: è¶…å¤§ãã
  sparkleWidth: 130,
  sparkleHeight: 130,
  sparkleTop: 0,
  sparkleRight: 75,  // ä¸­å¤®é…ç½®
  sparkleFit: BoxFit.cover,
  
  // ãƒ•ãƒ¬ãƒ¼ãƒ : æœ€å¤§ã‚µã‚¤ã‚º
  frameCornerSize: 60,
  frameCornerColor: Colors.amber.shade800,
  showFrameCorners: true,
  
  // æ ç·š: æ¥µå¤ªã‚´ãƒ¼ãƒ«ãƒ‰
  borderColor: Colors.amber.shade600,
  borderWidth: 6.0,
)
```

### ä¾‹3: ã‚«ã‚¹ã‚¿ãƒ ãƒ‡ã‚¶ã‚¤ãƒ³ï¼ˆè™¹è‰²ï¼‰
```dart
PetCardWidget(
  // ... åŸºæœ¬ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ ...
  rarity: 4,
  
  // æ˜Ÿ: ãƒ”ãƒ³ã‚¯è‰²ã«ã‚ªãƒ¼ãƒãƒ¼ãƒ©ã‚¤ãƒ‰
  sparkleWidth: 85,
  sparkleHeight: 85,
  sparkleTop: 10,
  sparkleRight: 10,
  
  // ãƒ•ãƒ¬ãƒ¼ãƒ : ã‚·ã‚¢ãƒ³è‰²
  frameCornerSize: 50,
  frameCornerColor: Colors.cyan.shade600,
  showFrameCorners: true,
  
  // æ ç·š: ãƒ”ãƒ³ã‚¯
  borderColor: Colors.pink.shade500,
  borderWidth: 4.5,
)
```

---

## ğŸ”§ è©³ç´°ä»•æ§˜

### ui_sparkle ã®å®Ÿè£…
- **ä½ç½®**: `Positioned(top, right, width, height)`
- **ç”»åƒ**: `assets/ui/decorations/ui_sparkle_rarity.png`
- **ãƒ–ãƒ¬ãƒ³ãƒ‰ãƒ¢ãƒ¼ãƒ‰**: `BlendMode.screen`ï¼ˆåŠ ç®—åˆæˆï¼‰
- **é€æ˜åº¦**: ãƒ¬ã‚¢ãƒªãƒ†ã‚£ã«å¿œã˜ã¦è‡ªå‹•èª¿æ•´ï¼ˆ10%-60%ï¼‰

### ui_frame_corner ã®å®Ÿè£…
- **æç”»æ–¹æ³•**: `CustomPainter`ã§å‹•çš„æç”»
- **å½¢çŠ¶**: Lå­—å‹ï¼ˆãƒ™ã‚¸ã‚§æ›²ç·šã§ãƒ©ã‚¦ãƒ³ãƒ‰å‡¦ç†ï¼‰
- **4éš…é…ç½®**: `canvas.scale`ã§è‡ªå‹•å›è»¢ãƒ»åè»¢
- **æ§‹æˆè¦ç´ **:
  - å¤–å´ã‚¹ãƒˆãƒ­ãƒ¼ã‚¯ï¼ˆå¤ªã•3pxã€ãƒ©ã‚¦ãƒ³ãƒ‰ã‚­ãƒ£ãƒƒãƒ—ï¼‰
  - å†…å´å¡—ã‚Šã¤ã¶ã—ï¼ˆ30%é€æ˜åº¦ï¼‰
  - è§’ã®è£…é£¾å††ï¼ˆç›´å¾„4pxï¼‰

---

## âš ï¸ æ³¨æ„äº‹é …

### æ˜Ÿï¼ˆsparkleï¼‰
- ã‚µã‚¤ã‚ºã‚’å¤§ããã—ã™ãã‚‹ã¨ã‚«ãƒ¼ãƒ‰ã‹ã‚‰ã¯ã¿å‡ºã™å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™
- `sparkleRight`ãŒè² ã®å€¤ã ã¨è¡¨ç¤ºã•ã‚Œã¾ã›ã‚“
- `sparkleWidth: 0`ã§å®Œå…¨ã«éè¡¨ç¤ºã«ã§ãã¾ã™

### ãƒ•ãƒ¬ãƒ¼ãƒ ã‚³ãƒ¼ãƒŠãƒ¼
- `frameCornerSize`ãŒå¤§ãã™ãã‚‹ã¨ä¸­å¤®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã¨é‡ãªã‚Šã¾ã™
- æ¨å¥¨ç¯„å›²: 30-60px
- ãƒ¬ã‚¢ãƒªãƒ†ã‚£3æœªæº€ã§è¡¨ç¤ºã™ã‚‹å ´åˆã¯`showFrameCorners: true`ãŒå¿…é ˆ

### çµ„ã¿åˆã‚ã›
- æ˜Ÿã¨ãƒ•ãƒ¬ãƒ¼ãƒ ã®è‰²ã‚’æƒãˆã‚‹ã¨çµ±ä¸€æ„ŸãŒå‡ºã¾ã™
- ãƒ¬ã‚¸ã‚§ãƒ³ãƒ€ãƒªãƒ¼ã¯æ˜Ÿãƒ»ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ»æ ç·šã™ã¹ã¦ã‚’å¼·èª¿æ¨å¥¨
- ã‚³ãƒ¢ãƒ³ã¯è£…é£¾ã‚’æœ€å°é™ã«ã—ã¦ã‚·ãƒ³ãƒ—ãƒ«ã«

---

## ğŸ“Š ã‚µã‚¤ã‚ºæ—©è¦‹è¡¨

| è¦ç´  | æœ€å° | æ¨™æº– | æœ€å¤§ | æ¨å¥¨ç”¨é€” |
|------|------|------|------|----------|
| sparkleWidth/Height | 40px | 80px | 130px | å¤§: ãƒ¬ã‚¸ã‚§ãƒ³ãƒ€ãƒªãƒ¼ã€å°: ã‚³ãƒ¢ãƒ³ |
| frameCornerSize | 30px | 40px | 60px | å¤§: é«˜ãƒ¬ã‚¢ã€å°: ä½ãƒ¬ã‚¢ |
| borderWidth | 0px | 2-4px | 6px | å¤ª: ãƒ¬ã‚¢åº¦3+ã€ç´°: ãƒ¬ã‚¢åº¦1-2 |

---

## ğŸ¨ ãƒ¬ã‚¢ãƒªãƒ†ã‚£åˆ¥ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè‰²

| ãƒ¬ã‚¢ãƒªãƒ†ã‚£ | æ ç·šè‰² | ãƒ•ãƒ¬ãƒ¼ãƒ è‰² | æ¨å¥¨æ˜Ÿã‚µã‚¤ã‚º |
|-----------|--------|-----------|-------------|
| 1 (ã‚³ãƒ¢ãƒ³) | ã‚°ãƒ¬ãƒ¼ | - | 50-60px |
| 2 (ã‚¢ãƒ³ã‚³ãƒ¢ãƒ³) | ã‚°ãƒªãƒ¼ãƒ³ | - | 60-70px |
| 3 (ãƒ¬ã‚¢) | ãƒ–ãƒ«ãƒ¼ | ãƒ–ãƒ«ãƒ¼ | 70-80px |
| 4 (ã‚¨ãƒ”ãƒƒã‚¯) | ãƒ‘ãƒ¼ãƒ—ãƒ« | ãƒ‘ãƒ¼ãƒ—ãƒ« | 85-95px |
| 5 (ãƒ¬ã‚¸ã‚§ãƒ³ãƒ€ãƒªãƒ¼) | ã‚´ãƒ¼ãƒ«ãƒ‰ | ã‚´ãƒ¼ãƒ«ãƒ‰ | 100-130px |

---

## ğŸš€ ä½¿ã„æ–¹ã®æµã‚Œ

1. **åŸºæœ¬è¨­å®š**
   ```dart
   PetCardWidget(
     // å¿…é ˆãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿
     petImagePath: '...',
     petName: '...',
     // ...
     rarity: 4,  // ãƒ¬ã‚¢ãƒªãƒ†ã‚£è¨­å®š
   )
   ```

2. **è‡ªå‹•è£…é£¾ã‚’ç¢ºèª**
   - ãƒ¬ã‚¢åº¦3ä»¥ä¸Š â†’ è‡ªå‹•çš„ã«æ˜Ÿã¨ãƒ•ãƒ¬ãƒ¼ãƒ ãŒè¡¨ç¤ºã•ã‚Œã‚‹

3. **ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º**
   ```dart
   PetCardWidget(
     // ...
     rarity: 4,
     sparkleWidth: 95,      // æ˜Ÿã®ã‚µã‚¤ã‚ºèª¿æ•´
     frameCornerSize: 48,   // ãƒ•ãƒ¬ãƒ¼ãƒ ã‚µã‚¤ã‚ºèª¿æ•´
   )
   ```

4. **è‰²ã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º**ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
   ```dart
   PetCardWidget(
     // ...
     frameCornerColor: Colors.custom,
     borderColor: Colors.custom,
   )
   ```

---

**æ›´æ–°æ—¥**: 2025å¹´11æœˆ30æ—¥  
**ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: 3.0ï¼ˆãƒ•ãƒ¬ãƒ¼ãƒ ã‚³ãƒ¼ãƒŠãƒ¼å¯¾å¿œç‰ˆï¼‰
